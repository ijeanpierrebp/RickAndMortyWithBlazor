@attribute [StreamRendering]
@inject IHttpClientFactory httpF
@inject NavigationManager nv;

@page "/"

<PageTitle>Home</PageTitle>





@if(response?.Results != null)
{
    @foreach (var item in response.Results)
    {
        <Card caracter="item"></Card>
    }
}


@code{
    public CharacterResponse? response;

    protected override async Task OnInitializedAsync()
    {
        var apiCall =   httpF.CreateClient("api");
        response = await apiCall.GetFromJsonAsync<CharacterResponse>("character");
        Cambio();
    }


    void Cambio(){

        try
        {
            nv.NavigateTo("/hola");

        }
        catch (Exception ex)
        {
            
           Console.WriteLine($"aqui el error: {ex.Message}");
        }

    }
    
}